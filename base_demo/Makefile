#*********************************************************************************************************
#
#                                    中国软件开源组织
#
#                                   嵌入式实时操作系统
#
#                                SylixOS(TM)  LW : long wing
#
#                               Copyright All Rights Reserved
#
#--------------文件信息--------------------------------------------------------------------------------
#
# 文   件   名: Makefile
#
# 创   建   人: RealEvo-IDE
#
# 文件创建日期: 2022 年 07 月 23 日
#
# 描        述: 本文件由 RealEvo-IDE 生成，用于配置 Makefile 功能，请勿手动修改
#*********************************************************************************************************

#*********************************************************************************************************
# SylixOS Base Components
#*********************************************************************************************************
include config.mk

#*********************************************************************************************************
# SylixOS Base Components
#*********************************************************************************************************
COMPONENTS :=  \
libsylixos \
libcextern \
libVxWorks \
libreadline \
liblua \
libsqlite3 \
pciutils \
libzmodem \
libexpat \
libluaplugin \
libsunrpc \
unfsd \
libsalsa \
libpcap \
openssl \
libcurl \
libffi \
libwayland \
libgtest \
tcpdump \
xtrace \
zlib \
libarchive \
openssh

#*********************************************************************************************************
# Multi-platform SDK
#*********************************************************************************************************
ifeq ($(MULTI_PLATFORM_BUILD), yes)

include platforms.mk

#*********************************************************************************************************
# all
#*********************************************************************************************************
.PHONY: all
all:
	@$(foreach platform,$(PLATFORMS),$(foreach component,$(COMPONENTS), make -C $(component) all PLATFORM_NAME=$(platform) TOOLCHAIN_PREFIX=$(word 1, $($(platform))) CPU_TYPE="$(filter-out reserve,$(wordlist 2, 3, $($(platform))))" FPU_TYPE="$(wordlist 4, 6, $($(platform)))";))

#*********************************************************************************************************
# clean
#*********************************************************************************************************
.PHONY: clean
clean:
	@$(foreach platform,$(PLATFORMS),$(foreach component,$(COMPONENTS), make -C $(component) clean PLATFORM_NAME=$(platform) TOOLCHAIN_PREFIX=$(word 1, $($(platform))) CPU_TYPE="$(filter-out reserve,$(wordlist 2, 3, $($(platform))))" FPU_TYPE="$(wordlist 4, 6, $($(platform)))";))

#*********************************************************************************************************
# Single-platform SDK
#*********************************************************************************************************
else

#*********************************************************************************************************
# all
#*********************************************************************************************************
.PHONY: all
all:
	@for target in $(COMPONENTS); do make -C $$target all; done

#*********************************************************************************************************
# clean
#*********************************************************************************************************
.PHONY: clean
clean:
	@for target in $(COMPONENTS); do make -C $$target clean; done

endif
#*********************************************************************************************************
# End
#*********************************************************************************************************
